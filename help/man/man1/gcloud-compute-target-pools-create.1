'\" t
.TH "GCLOUD\-COMPUTE\-TARGET\-POOLS\-CREATE" "1"
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.nh
.ad l
.SH "NAME"
gcloud-compute-target-pools-create \- Define a load\-balanced pool of virtual machine instances
.SH "SYNOPSIS"
.sp
.nf
\fBgcloud compute target\-pools create\fR
  NAME
  [\-\-backup\-pool BACKUP_POOL]
  [\-\-description DESCRIPTION]
  [\-\-failover\-ratio FAILOVER_RATIO]
  [\-\-health\-check HEALTH_CHECK]
  \-\-region REGION
  [\-\-session\-affinity SESSION_AFFINITY; default="NONE"]
  [\-h, \-\-help]
.fi
.SH "DESCRIPTION"
.sp
\fBgcloud compute target\-pools create\fR is used to create a target pool\&. A target pool resource defines a group of instances that can receive incoming traffic from forwarding rules\&. When a forwarding rule directs traffic to a target pool, Google Compute Engine picks an instance from the target pool based on a hash of the source and destination IP addresses and ports\&. For more information on load balancing, see https://developers\&.google\&.com/compute/docs/load\-balancing/\&.
.sp
To add instances to a target pool, use \fIgcloud compute target\-pools add\-instances\fR\&.
.SH "POSITIONAL ARGUMENTS"
.PP
\fINAME\fR
.RS 4
The name of the target pool\&.
.RE
.SH "FLAGS"
.PP
\fB\-\-backup\-pool\fR \fIBACKUP_POOL\fR
.RS 4
Together with \(lq\-\-failover\-ratio\(rq, this flag defines the fallback behavior of the target pool (primary pool) to be created by this command\&. If the ratio of the healthy instances in the primary pool is at or below the specified \(lq\-\-failover\-ratio value\(rq, then traffic arriving at the load\-balanced IP address will be directed to the backup pool\&. If this flag is provided, then \(lq\-\-failover\-ratio\(rq is required\&.
.RE
.PP
\fB\-\-description\fR \fIDESCRIPTION\fR
.RS 4
An optional description of this target pool\&.
.RE
.PP
\fB\-\-failover\-ratio\fR \fIFAILOVER_RATIO\fR
.RS 4
Together with \(lq\-\-backup\-pool\(rq, defines the fallback behavior of the target pool (primary pool) to be created by this command\&. If the ratio of the healthy instances in the primary pool is at or below this number, traffic arriving at the load\-balanced IP address will be directed to the backup pool\&. For example, if 0\&.4 is chosen as the failover ratio, then traffic will fail over to the backup pool if more than 40% of the instances become unhealthy\&. If not set, the traffic will be directed the instances in this pool in the \(lqforce\(rq mode, where traffic will be spread to the healthy instances with the best effort, or to all instances when no instance is healthy\&. If this flag is provided, then \(lq\-\-backup\-pool\(rq is required\&.
.RE
.PP
\fB\-\-health\-check\fR \fIHEALTH_CHECK\fR
.RS 4
Specifies an HTTP health check resource to use to determine the health of instances in this pool\&. If no health check is specified, traffic will be sent to all instances in this target pool as if the instances were healthy, but the health status of this pool will appear as unhealthy as a warning that this target pool does not have a health check\&.
.RE
.PP
\fB\-\-region\fR \fIREGION\fR
.RS 4
The region in which the forwarding rule will be created\&.
.RE
.PP
\fB\-\-session\-affinity\fR \fISESSION_AFFINITY\fR
.RS 4
Specifies the session affinity option for the connection\&. If \(lqNONE\(rq is selected, then connections from the same client IP address may go to any instance in the target pool\&. If \(lqCLIENT_IP\(rq is selected, then connections from the same client IP address will go to the same instance in the target pool\&. If \(lqCLIENT_IP_PROTO\(rq is selected, then connections from the same client IP with the same IP protocol will go to the same client pool\&. If not specified, then \(lqNONE\(rq is used as a default\&.
.RE
.PP
\fB\-\-help\fR
.RS 4
Print a summary help and exit\&.
.RE
